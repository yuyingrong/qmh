<!-- updated on 2019-06-05 15:52:24 -->

var x=['1817', '1818', '1819', '1820', '1821', '1822', '1823', '1824', '1825', '1826', '1827', '1828', '1829', '1830', '1831', '1832', '1833', '1834', '1835', '1836', '1837', '1838', '1839', '1840', '1841', '1842', '1843', '1844', '1845', '1846', '1847', '1848', '1849', '1850', '1851', '1852', '1853', '1854', '1855', '1856', '1857', '1858', '1859', '1860', '1861', '1862', '1863', '1864', '1865', '1866', '1867', '1868', '1869', '1870', '1871', '1872', '1873', '1874', '1875', '1876', '1877', '1878', '1879', '1880', '1881', '1882', '1883', '1884', '1885', '1886'];
var y=['Dec', 'Nov', 'Oct', 'Sep', 'Aug', 'Jul', 'Jun', 'May', 'Apr', 'Mar', 'Feb', 'Jan'];
var z=[[2, 3, 0, 2, 1, 0, 0, 2, 3, 5, 3, 2, 2, 2, 5, 1, 2, 5, 4, 2, 4, 3, 4, 4, 4, 1, 3, 3, 4, 3, 2, 1, 2, 0, 4, 4, 3, 0, 2, 2, 1, 0, 2, 1, 0, 2, 2, 2, 4, 3, 4, 1, 4, 1, 2, 3, 2, 1, 5, 2, 1, 1, 5, 0, 0, 4, 2, 4, 5, 0], [0, 1, 0, 3, 0, 1, 1, 1, 4, 0, 0, 3, 0, 1, 1, 3, 2, 7, 4, 5, 4, 2, 4, 6, 4, 2, 5, 6, 1, 8, 0, 1, 2, 4, 3, 2, 8, 4, 6, 2, 2, 1, 0, 1, 0, 2, 0, 0, 4, 4, 1, 3, 1, 3, 0, 3, 4, 2, 1, 2, 2, 0, 1, 4, 3, 2, 2, 4, 3, 0], [1, 2, 2, 1, 1, 2, 3, 1, 4, 0, 0, 1, 2, 3, 3, 3, 3, 2, 4, 5, 5, 6, 7, 3, 1, 3, 2, 5, 3, 4, 5, 1, 2, 2, 7, 1, 0, 2, 1, 3, 0, 2, 2, 3, 1, 1, 0, 4, 1, 3, 1, 0, 2, 1, 0, 4, 2, 2, 5, 4, 3, 0, 2, 4, 6, 3, 0, 2, 3, 0], [2, 1, 1, 4, 4, 0, 1, 1, 2, 1, 2, 1, 1, 2, 1, 3, 1, 3, 1, 7, 5, 5, 5, 5, 5, 3, 2, 2, 1, 4, 2, 6, 2, 2, 0, 3, 0, 3, 2, 2, 6, 2, 0, 2, 2, 2, 3, 0, 2, 2, 3, 3, 3, 4, 0, 5, 0, 7, 0, 6, 7, 0, 4, 4, 1, 5, 3, 2, 5, 0], [3, 1, 1, 3, 1, 0, 2, 1, 0, 3, 4, 1, 3, 3, 3, 0, 4, 5, 6, 2, 4, 10, 6, 5, 4, 1, 0, 5, 1, 1, 5, 5, 1, 5, 2, 1, 6, 6, 1, 5, 2, 1, 2, 1, 0, 0, 1, 0, 0, 1, 2, 1, 3, 4, 0, 2, 2, 2, 2, 1, 5, 0, 5, 3, 4, 5, 2, 2, 6, 0], [2, 2, 1, 0, 2, 4, 1, 2, 2, 4, 2, 2, 2, 3, 2, 6, 2, 3, 5, 6, 5, 6, 3, 3, 5, 2, 3, 2, 3, 3, 5, 3, 6, 1, 5, 1, 2, 6, 3, 3, 8, 2, 0, 1, 1, 0, 1, 6, 2, 3, 3, 2, 1, 3, 0, 4, 5, 3, 6, 1, 0, 0, 5, 0, 6, 5, 3, 0, 5, 0], [6, 5, 4, 2, 3, 3, 4, 5, 3, 3, 3, 3, 3, 0, 3, 4, 3, 2, 9, 7, 7, 4, 4, 3, 5, 1, 5, 3, 3, 6, 2, 3, 3, 2, 4, 7, 7, 4, 3, 5, 2, 3, 5, 1, 2, 1, 4, 2, 5, 5, 3, 1, 3, 2, 6, 2, 2, 9, 5, 4, 2, 0, 3, 3, 4, 5, 4, 7, 8, 0], [2, 4, 4, 2, 4, 2, 2, 1, 4, 3, 3, 0, 0, 1, 5, 4, 1, 5, 6, 5, 2, 6, 6, 2, 1, 1, 9, 5, 4, 4, 1, 7, 4, 1, 2, 1, 4, 3, 3, 3, 8, 4, 1, 1, 1, 0, 1, 3, 2, 3, 4, 1, 1, 4, 6, 3, 4, 7, 3, 4, 2, 0, 0, 1, 1, 6, 6, 2, 2, 0], [0, 1, 1, 1, 2, 2, 1, 0, 4, 1, 3, 3, 2, 1, 3, 3, 0, 3, 4, 7, 2, 6, 3, 10, 3, 3, 3, 7, 1, 4, 7, 2, 1, 1, 6, 2, 1, 6, 5, 4, 2, 0, 6, 1, 1, 4, 2, 3, 0, 2, 3, 3, 3, 6, 2, 2, 7, 3, 4, 6, 6, 0, 0, 6, 4, 3, 1, 1, 3, 0], [0, 0, 0, 1, 2, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 2, 2, 3, 3, 6, 5, 7, 4, 5, 2, 3, 3, 2, 0, 2, 1, 4, 3, 1, 9, 3, 4, 6, 3, 3, 2, 3, 1, 3, 3, 1, 0, 2, 0, 0, 1, 4, 2, 4, 4, 2, 5, 4, 3, 2, 1, 0, 0, 8, 5, 3, 5, 1, 2, 0], [0, 1, 2, 5, 2, 1, 1, 0, 1, 4, 1, 1, 1, 1, 0, 2, 1, 2, 5, 1, 5, 4, 4, 3, 1, 2, 1, 2, 4, 1, 4, 1, 1, 0, 0, 2, 1, 0, 1, 3, 1, 1, 1, 2, 0, 3, 0, 4, 1, 0, 0, 3, 0, 3, 1, 2, 3, 4, 2, 1, 2, 3, 0, 7, 2, 5, 3, 5, 3, 0], [0, 0, 1, 0, 0, 5, 1, 1, 1, 1, 0, 0, 2, 1, 2, 2, 3, 0, 2, 3, 1, 4, 7, 5, 3, 3, 3, 5, 3, 1, 2, 4, 3, 1, 1, 0, 2, 5, 0, 2, 2, 3, 1, 0, 2, 1, 0, 3, 1, 0, 4, 2, 0, 4, 3, 2, 5, 1, 2, 3, 2, 5, 0, 4, 4, 5, 3, 0, 1, 2]];

    <!-- sorting out the .map() was the hardest step -->
    var text = z.map((mo, i) => mo.map((n, j) => {
      <!-- the return section cannot be indented -->
      return `
Month: ${y[i]}<br>
Year: ${x[j]}<br>
Admitted: ${n} patient(s)
`
    }))

    Plotly.plot('heatmap_monthly_admission', [{
      type: 'heatmap',
      x: x,
      y: y,
      z: z,
      text: text,
      hoverinfo: 'text',
      <!-- colorscale is not working; I want it blue, but it gives me red -->
      colorscale: [
        ['0', 'rgb(255,255,255)'],
        ['100', 'rgb(0,0,255)']
      ],
    }], {
      xaxis: { title: 'Year' },
      yaxis: { title: 'Month' }
    });
